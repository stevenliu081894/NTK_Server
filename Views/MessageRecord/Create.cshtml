@model NTKServer.ViewModels.MessageRecord.MessageRecordEditVm
@{
    var lang = ViewBag.Lang;
    var account_type = ViewData["AccountType"] as List<SelectListItem>;
    var send_type = ViewData["SendType"] as List<SelectListItem>;
}

<style>
    .ck-editor {
        min-width: 1000px;
    }
	.ck-editor__editable {
        min-height: 300px;
	}
</style>

<h4>@lang["public:title_create"]</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="PostCreate">
			<div class="form-group">
				<label class="control-label">@lang["account"]</label>
				<input asp-for="receiver_fk" hidden />
				<input asp-for="account" class="form-control" />
				<span asp-validation-for="account" class="text-danger"></span>
			</div>

			<div class="form-group">
				<label class="control-label">@lang["title"]</label>
				<input asp-for="title" class="form-control" />
				<span asp-validation-for="title" class="text-danger"></span>
			</div>
			<div class="form-group">
				<label class="control-label">@lang["info"]</label>
				<textarea asp-for="info" name="info" id="info" class="form-control" ></textarea>
				<span asp-validation-for="info" class="text-danger"></span>
			</div>
            <div class="form-group">
                <input type="submit" value="@lang["public:save"]" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<div>
    <a asp-action="Index">@lang["public:back_list"]</a>
</div>

@section Scripts{
    <script src="~/assets/ckeditor5/ckeditor.js" > </script>
    <script>
        ClassicEditor
            .create( document.querySelector( '#info' ),
			{
				ckfinder: { uploadUrl: '/MessageRecord/UploadImage' }
			}
			 )
            .catch( error => {
                alert(error);
                console.error( error );
            } );
    </script>
}
